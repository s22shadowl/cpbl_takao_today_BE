# app/core/constants.py

"""
本檔案用於存放整個應用程式中可複用的常數，特別是與棒球業務邏輯相關的分類。
"""

# ==============================================================================
# 打席結果分類 (At-Bat Result Categories)
# 使用 set 以利於快速查詢與集合運算。
# ==============================================================================

# --- 安打類 (Hits) ---
HITS = {
    "一安",
    "二安",
    "三安",
    "內安",
    "內二",
    "內三",
    "場安",
    "場二",
    "場三",
    "全打",
    "內全",
}

# --- 保送類 (Walks) ---
WALKS = {"四壞", "故四", "死球"}

# --- 犧牲打類 (Sacrifices) ---
SACRIFICES = {"犧短", "犧飛", "界犧飛"}

# --- 出局類 (Outs) ---
# 可根據未來分析需求擴充
STRIKEOUTS = {"三振"}
GIDP = {"雙殺", "三殺"}
OUTS_IN_PLAY = {
    "投滾",
    "投飛",
    "捕滾",
    "捕飛",
    "一滾",
    "一飛",
    "二滾",
    "二飛",
    "三滾",
    "三飛",
    "游滾",
    "游飛",
    "左滾",
    "左飛",
    "中滾",
    "中飛",
    "右滾",
    "右飛",
    "內飛",
    "界飛",
}
ALL_OUTS = STRIKEOUTS | GIDP | OUTS_IN_PLAY

# --- 其他上壘類型 (Other On-Base Events) ---
# 這些事件在計算 OBP 時通常不被視為成功上壘，但在某些分析中可能需要
FIELDERS_CHOICE = {"野選"}
ERRORS = {
    "投失",
    "捕失",
    "一失",
    "二失",
    "三失",
    "游失",
    "左失",
    "中失",
    "右失",
    "雙誤",
    "犧短誤",
    "犧飛誤",
}


# ==============================================================================
# 邏輯組合分類 (Logical Combined Categories)
# 透過集合運算，組合出用於特定分析的分類。
# ==============================================================================

# --- 定義 B: 連續上壘 (Consecutive On Base) ---
# 這是計算 OBP (上壘率) 的基礎，包含安打與保送。
ON_BASE_RESULTS = HITS | WALKS

# --- 定義 C: 連續推進 (Consecutive Advancements) ---
# 包含成功上壘與犧牲打。
ADVANCEMENT_RESULTS = ON_BASE_RESULTS | SACRIFICES
